<div>
  <div *ngFor="let item of data">
    <div class="ngm-tree-grid-row">
      <div class="ngm-tree-grid-items">
        <div
          class="ngm-tree-grid-cell"
          *ngFor="let column of this.cellInputs.toArray(); let first = first"
        >
          <div class="ngm-tree-grid-main" *ngIf="first">
            <span [ngStyle]="{ 'margin-left': level * 20 + 'px' }">
              <img
                src="../../../assets/arrow_up.png"
                alt=""
                *ngIf="
                  getChildrenFn(item) &&
                  getChildrenFn(item).length > 0 &&
                  item.isOpen
                "
                (click)="closeItem(item)"
                class="ngm-tree-grid-main-icon"
              />

              <img
                src="../../../assets/download.png"
                alt=""
                *ngIf="
                  getChildrenFn(item) &&
                  getChildrenFn(item).length > 0 &&
                  !item.isOpen
                "
                (click)="openItem(item)"
                class="ngm-tree-grid-main-icon"
              />
              <span
                *ngIf="!getChildrenFn(item) || getChildrenFn(item).length == 0"
              >
                -
              </span>
              <ng-template ngmCellHost *ngIf="!first"></ng-template>
            </span>
          </div>
          <ng-template ngmCellHost></ng-template>
          <!-- {{ column.getText ? column.getText(item) : item[column["key"]] }} -->
        </div>
      </div>
    </div>
    <div *ngIf="getChildrenFn(item) && item.isOpen">
      <!-- {{ item.isOpen }} {{ getChildrenFn(item).length }} {{ cells.length }} -->
      <ngm-tree-grid-item
        [data]="getChildrenFn(item)"
        [config]="config"
        [level]="level + 1"
        [getChildrenFn]="getChildrenFn"
        (expand)="onExpand($event)"
        (collapse)="onCollapse($event)"
        [cellInputs]="cellInputs"
      ></ngm-tree-grid-item>
    </div>
  </div>
</div>
